@model HeaderVM
@{
    ViewData["Title"] = "Default";
}

<header>
    <div class="header-up">
        <div class="container-md mt-2 without-container">
            <div class="row">
                <div class="d-none col-md-8 d-md-block">
                    <div class="row">

                        <div class="col-lg-2 col-md-3 flag">
                            <ul class="d-flex flag-container">
                                <a href="#">
                                <li> <img src="~/assets/img/flags/@Model.Settings["AzFlag"]" class="active" alt="Azerbaijan"></li>
                                </a>
                                <a href="">
                                <li> <img src="~/assets/img/flags/@Model.Settings["AzFlag"]" alt="Azerbaijan"></li>
                                </a>

                            </ul>
                        </div>

                        <div class="col-lg-10 col-md-9 number">
                            <a href="#">@Model.Settings["Phone"]</a>
                        </div>
                    </div>
                </div>

                <!-- Secondary Navbar -->
                <div class="col-md-4 col-12">
                    <ul class="d-flex justify-content-md-end justify-content-center navbar-secondary">
                        <li class="pe-sm-5 px-md-3 first-header-icon">
                            <a asp-controller="question" asp-action="index">
                                <svg id="icon-customer-service-2" viewBox="0 0 32 32">
                                    <g>
                                        <path d="M16,6c5.5,0,10,4.5,10,10s-4.5,10-10,10S6,21.5,6,16S10.5,6,16,6 M16,4C9.4,4,4,9.4,4,16s5.4,12,12,12             s12-5.4,12-12S22.6,4,16,4L16,4z">
                                        </path>
                                    </g>
                                    <path d="M16,0C7.2,0,0,7.2,0,16v2v1v1h12v-2H2v-2C2,8.3,8.3,2,16,2c7.7,0,14,6.3,14,14h2C32,7.2,24.8,0,16,0z">
                                    </path>
                                    <rect x="11" y="14" width="2" height="2"></rect>
                                    <rect x="19" y="14" width="2" height="2"></rect>
                                    <path d="M10.7,22c1.4,1.2,3.2,2,5.3,2s3.9-0.8,5.3-2H10.7z"></path>
                                    <g>
                                        <path d="M23,13c0.1,0,0.3,0,0.4,0c-0.3-0.7-0.7-1.4-1.2-2c-2.5-0.2-4.7-1.3-6.3-3c-0.8,0-1.6,0.1-2.3,0.4             C15.8,11.2,19.2,13,23,13z">
                                        </path>
                                    </g>
                                    <rect y="30" width="32" height="2"></rect>
                                </svg>
                                <br>
                                @Model.Settings["Questions"]
                            </a>
                        </li>
                        <li class="pe-sm-5 px-md-3 first-header-icon">
                            <a asp-controller="catalog" asp-action="index">
                                <svg id="icon-campaign-paper" viewBox="0 0 512 512">
                                    <path d="m416 32l0 448-384 0 0-448 384 0m32-32l-448 0 0 512 448 0z m-229 102c59 0 107 48 107 108 0 56-30 97-54 121-5 5-10 10-16 15l13-29-48 0c-59 0-107-48-107-107 0-61 48-108 105-108m0-32c-75 0-137 61-137 138 0 77 62 139 139 139-10 23-26 47-48 71-2 1-2 3 0 4 0 2 1 2 3 2 0 0 0 0 2 0 41-11 84-37 118-69 29-29 64-78 64-145-2-79-64-140-141-140z m261-70l32 0 0 512-32 0z">
                                    </path>
                                </svg>
                                <br>
                                @Model.Settings["Catalog"]
                            </a>
                        </li>

                        <li class="pe-sm-5 px-md-3 first-header-icon">
                            <a asp-controller="store" asp-action="index">
                                <svg id="icon-stores" viewBox="0 0 512 512">
                                    <path d="m256 437l-11-11c-7-7-149-156-149-255 0-99 67-171 160-171 93 0 160 72 160 171 0 101-142 248-149 255z m0-405c-75 0-128 58-128 139 0 72 94 183 128 219 34-36 128-147 128-219 0-81-53-139-128-139z m0 208c-46 0-85-38-85-85 0-46 39-85 85-85 46 0 85 39 85 85 0 47-39 85-85 85z m0-136c-29 0-53 24-53 53 0 29 24 53 53 53 29 0 53-24 53-53 0-31-24-53-53-53z m115 254c-8 10-16 21-24 29 87 10 131 32 131 43 0 15-75 48-222 48-147 0-222-33-222-48 0-11 44-33 131-43-8-9-16-19-24-29-79 12-141 36-141 72 0 56 133 80 256 80 123 0 256-25 256-80 0-36-62-60-141-72z">
                                    </path>
                                </svg>
                                <br>
                                @Model.Settings["Shops"]
                            </a>
                        </li>
                        <li class="pe-sm-5 px-md-3 first-header-icon">

                            @if (User.Identity.IsAuthenticated)
                            {
                                <a asp-controller="Home" asp-action="Index">
                                    <svg id="icon-profile" viewBox="0 0 512 512">
                                        <path d="m256 256c70 0 128-58 128-128 0-70-58-128-128-128-70 0-128 58-128 128 0 70 58 128 128 128z m0-224c53 0 96 43 96 96 0 53-43 96-96 96-53 0-96-43-96-96 0-53 43-96 96-96z m173 256l-346 0c-64 0-81 54-83 83l0 141 32 0 0-139c0-7 2-53 51-53l347 0c48 0 52 46 52 53l0 139 32 0 0-141c-2-29-20-83-85-83z m-365 96l32 0 0 128-32 0z m352 0l32 0 0 128-32 0z">
                                        </path>
                                    </svg>
                                    <br>
                                    @User.Identity.Name
                                </a>
                                
                                <a asp-controller="Account" asp-action="Logout">
                                    Logout
                                </a>
                            }
                            else
                            {
                                <a asp-controller="Account" asp-action="Login">
                                    <svg id="icon-profile" viewBox="0 0 512 512">
                                        <path d="m256 256c70 0 128-58 128-128 0-70-58-128-128-128-70 0-128 58-128 128 0 70 58 128 128 128z m0-224c53 0 96 43 96 96 0 53-43 96-96 96-53 0-96-43-96-96 0-53 43-96 96-96z m173 256l-346 0c-64 0-81 54-83 83l0 141 32 0 0-139c0-7 2-53 51-53l347 0c48 0 52 46 52 53l0 139 32 0 0-141c-2-29-20-83-85-83z m-365 96l32 0 0 128-32 0z m352 0l32 0 0 128-32 0z">
                                        </path>
                                    </svg>
                                    <br>
                                    @Model.Settings["Login"]

                                </a>

                            }
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <hr>
    </div>
    <div class="header-mid">
        <div class="container-md">
            <div class="row my-4">
                <!-- Here is Mobile Navbar -->
                <div class="col-3 d-md-none">
                    <nav class=" navbar navbar-light navbar-mobile">
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarToggleExternalContent"
                                aria-controls="navbarToggleExternalContent" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </nav>
                </div>

                <div class="col-md-3 col-5 text-md-start text-center">
                    <div class="me-md-4">
                        <a asp-controller="home" asp-action="index"><img src="~/assets/img/logo/@Model.Settings["Logo"]" alt="logo"></a>
                    </div>
                </div>

                <div class="col-md-6 d-md-block d-none search-main">
                    <div class="search-button p-lg-1 mt-1">
                        <form class="d-flex justify-content-center" method="get" asp-controller="search" asp-action="index" autocomplete="off">
                            <input class="form-control input-color" name="search" type="search" placeholder="Search"
                                   aria-label="Search" id="search-click">
                            <button class="btn px-4" type="submit">Axtar</button>
                        </form>
                    </div>
                    <div class="search-field d-none">
                        <table class="ms-3" style="width:96%;" id="table-search">
                            <tr id="searchNoProduct">
                                <td class="search-no-product">Search Here</td>
                            </tr>
                            <tr class="search-product-header d-none">
                                <th>Məhsullar</th>
                            </tr>

                            @*<tr class="search-products d-none">

                                         <td class="search-img-field">
                                             <a asp-controller="productdetail" asp-action="index" asp-route-productId="2">
                                                 <img src="./assets/img/bedroom/1035158-KRONBORG.jpg" alt="">
                                                 </a>
                                         </td>
                                    <td class="search-product-field">Charpayi</td>
                                    <td class="search-price-field text-end">1200 Azn/ədədi</td>

                                    </tr>
                                <tr class="search-products d-none">
                                    <td class="search-img-field">
                                        <img src="./assets/img/bedroom/1035158-KRONBORG.jpg" alt="">
                                    </td>
                                    <td class="search-product-field">Charpayi</td>
                                    <td class="search-price-field text-end">1200 Azn/ədədi</td>
                                </tr>*@

                        </table>
                    </div>
                </div>

                <div class="col-md-3 col-4">
                    <div class="d-flex justify-content-end">
                        <div class="basket">
                            <div class="basket-icon" id="basket">
                                <a href="#">
                                    <svg id="icon-cart" viewBox="0 0 512 512">
                                        <path d="m128 512c-35 0-64-29-64-64 0-35 29-64 64-64 35 0 64 29 64 64 0 35-29 64-64 64z m0-96c-18 0-32 14-32 32 0 18 14 32 32 32 18 0 32-14 32-32 0-18-14-32-32-32z m160 96c-35 0-64-29-64-64 0-35 29-64 64-64 35 0 64 29 64 64 0 35-29 64-64 64z m0-96c-18 0-32 14-32 32 0 18 14 32 32 32 18 0 32-14 32-32 0-18-14-32-32-32z m144-357c-8 27-66 221-66 223-16 38-36 54-80 54l-222 0 0 32 222 0c56 0 90-24 111-75 3-8 59-197 67-224 8-29 14-37 48-37l0-32c-53 0-69 21-80 59z m-69 21c-19 66-40 136-48 160-8 24-27 32-70 32-5 0-11 0-18 0l-163 0c0 0-11 0-19-6-8-8-13-21-13-39l0-115 288 0c3-11 5-21 8-32l-328 0 0 147c0 27 8 48 22 63 18 16 39 16 44 14l163 0c6 0 25 0 30 0 40 0 69-5 88-54 2-7 32-104 51-172l-35 0z">
                                        </path>
                                    </svg>
                                </a>
                            </div>
                            <div class="basket-click" id="basket-toggle">
                                <div class="hovered-basket d-lg-block d-md-none">
                                    <a asp-controller="Basket" asp-action="index" id="getData">


                                        <div id="icon-basket" class="text-align-center no-product d-none">
                                            <p><i class="fa-solid fa-basket-shopping"></i></p>
                                        </div>

                                        <table class="table table-striped" id="tableBasket">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        Image
                                                    </th>
                                                    <th>
                                                        Name
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody id="basket-parent">

                                                <!--<tr class="basket-child">-->
                                                @*<td id="basket-child-img">

                                                    </td>
                                                    <td id="basket-child-name">

                                                    </td>*@

                                                <!--</tr>-->
                                            </tbody>
                                        </table>

                                    </a>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="search-button p-lg-1 mt-1 d-md-none mb-2">
                <form asp-controller="search" asp-action="index" class="d-flex justify-content-center">
                    <input class="form-control" name="search" type="search" placeholder="Search" na aria-label="Search">
                    <button class="btn px-4" type="submit">Axtar</button>
                </form>
            </div>

            <!-- Here is mobile navbar content -->
            <div class="collapse d-md-none mb-2" id="navbarToggleExternalContent">
                <div class="bg-light p-4">
                    <div class="row">
                        @foreach (var categoryMobile in Model.Categories)
                        {
                            <div class="col-6 p-3 d-flex justify-content-center">
                                <a class="nav-link text-center" asp-controller="Category" asp-action="Index" asp-route-categoryId="@categoryMobile.Id">@categoryMobile.Name</a>
                            </div>
                        }


                    </div>
                </div>
            </div>


        </div>
        <hr>
        <div class="container-md">
            <nav class="navbar navbar-expand-md navbar-light d-none d-md-block">
                <div class="container-fluid ">
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav main-navbar">

                            <ul class="d-flex ">
                                @foreach (var category in Model.Categories)
                                {
                                    <li>
                                        <a asp-controller="Category" asp-action="index" asp-route-categoryId="@category.Id" class="px-1 pe-1 pb-1">@category.Name</a>
                                        <div class="subMenu">
                                            <div class="container">
                                                <div class="row pb-1">
                                                    @if (category.SubCategory != null)
                                                    {
                                                        for (int i = 0; i < (Math.Ceiling((decimal)category.SubCategory.Count() / 7)); i++)
                                                        {
                                                            <div class="col-md-3">
                                                                <ul>
                                                                    @foreach (var subCategory in category.SubCategory.Skip(i * 7).Take(7))

                                                                    {
                                                                        if (category.Id == subCategory.CategoryID)
                                                                        {

                                                                            <li><a class="pb-1" asp-controller="subcategory" asp-action="Index" asp-route-subCategoryId="@subCategory.Id">@subCategory.Name</a></li>
                                                                        }
                                                                    }
                                                                </ul>
                                                            </div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                }

                            </ul>



                        </div>

                    </div>
                </div>
            </nav>
        </div>
    </div>


    </div>
</header>

